<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Abby! | Crime Investigation Game</title>
    <meta name="description" content="A special birthday mystery game for Abby's 26th birthday with floating animations and interactive investigation">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Crimson+Pro:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* SEO and Performance Optimizations */
        :root {
            --dark-bg: #1a1a2e;
            --darker-bg: #16213e;
            --card-bg: #0f3460;
            --accent: #e94560;
            --accent-hover: #ff6b81;
            --text: #e0e0e0;
            --text-muted: #a0a0a0;
            --success: #4caf50;
            --danger: #f44336;
            --warning: #ff9800;
            --evidence: #2196f3;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--dark-bg);
            color: var(--text);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Birthday Animation Styles - Only on landing page */
        .birthday-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-item {
            position: absolute;
            bottom: -50px;
            font-size: 1.5rem;
            animation: floatUp 8s linear infinite;
            opacity: 0;
        }

        .heart { color: #e94560; }
        .gift { color: #4caf50; }
        .balloon { color: #2196f3; }

        @keyframes floatUp {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        @import url(https://fonts.googleapis.com/css?family=Lato:300italic);
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        /* Improved Gallery Styles */
        .birthday-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 30px 0;
            padding: 0 10px;
            z-index: 2;
            position: relative;
        }

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            aspect-ratio: 1;
        }

        .gallery-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .gallery-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(233, 69, 96, 0.4);
        }

        .gallery-item:hover .gallery-image {
            transform: scale(1.1);
        }

        .gallery-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            padding: 20px;
            color: white;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .gallery-item:hover .gallery-overlay {
            transform: translateY(0);
        }

        /* Existing styles remain the same below */
        .game-container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }
        
        .birthday-hero {
            background: linear-gradient(135deg, #e94560 0%, #ff6b81 50%, #ff8fa3 100%);
            color: white;
            text-align: center;
            padding: 60px 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(233, 69, 96, 0.4);
            position: relative;
            overflow: hidden;
            z-index: 2;
        }
        
        .birthday-hero::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.2) 0%, transparent 20%),
                radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.2) 0%, transparent 20%);
            z-index: 1;
        }
        
        .birthday-content {
            position: relative;
            z-index: 2;
        }
        
        .birthday-title {
            font-family: 'Crimson Pro', serif;
            font-size: 4rem;
            margin-bottom: 20px;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            animation: pulse 2s infinite;
        }
        
        .birthday-subtitle {
            font-size: 1.8rem;
            margin-bottom: 40px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            font-weight: 300;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .birthday-cta {
            background-color: white;
            color: #e94560;
            border: none;
            padding: 18px 50px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
            display: inline-flex;
            align-items: center;
            gap: 12px;
            position: relative;
            overflow: hidden;
            z-index: 2;
        }
        
        .birthday-cta::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: 0.5s;
        }
        
        .birthday-cta:hover::before {
            left: 100%;
        }
        
        .birthday-cta:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .birthday-cta:active {
            transform: translateY(0);
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Rest of your existing CSS styles remain exactly the same */
        .game-content {
            display: none;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: var(--darker-bg);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            border-bottom: 3px solid var(--accent);
            position: relative;
        }
        
        .detective-badge {
            position: absolute;
            top: 20px;
            left: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(233, 69, 96, 0.1);
            padding: 10px 15px;
            border-radius: 20px;
            border: 1px solid var(--accent);
        }
        
        .detective-badge img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid var(--accent);
        }
        
        h1 {
            font-family: 'Crimson Pro', serif;
            font-weight: 600;
            color: var(--accent);
            margin-bottom: 10px;
            font-size: 2.5rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .tagline {
            font-style: italic;
            color: var(--text-muted);
            font-size: 1.1rem;
        }
        
        .attempt-counter {
            position: absolute;
            top: 20px;
            right: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(33, 150, 243, 0.1);
            padding: 10px 15px;
            border-radius: 20px;
            border: 1px solid var(--evidence);
        }
        
        .intro {
            background-color: var(--darker-bg);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            border-left: 4px solid var(--accent);
        }
        
        .intro h2 {
            color: var(--accent);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: 'Crimson Pro', serif;
        }
        
        .case-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .case-detail-item {
            background: rgba(233, 69, 96, 0.1);
            padding: 12px 15px;
            border-radius: 6px;
            border-left: 3px solid var(--accent);
        }
        
        .case-detail-label {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 5px;
        }
        
        .case-detail-value {
            font-weight: 500;
            color: var(--accent);
        }
        
        .container {
            display: flex;
            gap: 25px;
            margin-bottom: 25px;
        }
        
        .sidebar {
            flex: 0 0 300px;
            background-color: var(--darker-bg);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            height: fit-content;
        }
        
        .sidebar h2 {
            text-align: center;
            color: var(--accent);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-family: 'Crimson Pro', serif;
        }
        
        .suspect-list {
            list-style: none;
        }
        
        .suspect-item {
            background-color: var(--card-bg);
            padding: 15px;
            margin-bottom: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
            border-left: 3px solid transparent;
        }
        
        .suspect-item:hover {
            background-color: rgba(233, 69, 96, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .suspect-item.active {
            background-color: rgba(233, 69, 96, 0.15);
            border-left: 3px solid var(--accent);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .suspect-item img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid var(--accent);
            object-fit: cover;
        }
        
        .suspect-info {
            flex: 1;
        }
        
        .suspect-name {
            font-weight: 700;
            margin-bottom: 5px;
            font-family: 'Crimson Pro', serif;
        }
        
        .suspect-relationship {
            font-size: 0.85rem;
            color: var(--text-muted);
        }
        
        .main-panel {
            flex: 1;
            background-color: var(--darker-bg);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
        }
        
        .suspect-details {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .suspect-header {
            display: flex;
            align-items: center;
            gap: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .suspect-portrait {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 4px solid var(--accent);
            object-fit: cover;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }
        
        .suspect-bio {
            flex: 1;
        }
        
        .suspect-name-large {
            font-size: 2.2rem;
            color: var(--accent);
            margin-bottom: 10px;
            font-family: 'Crimson Pro', serif;
        }
        
        .suspect-description {
            color: var(--text-muted);
            line-height: 1.7;
        }
        
        .motive-section, .alibi-section, .evidence-section {
            padding: 20px;
            background-color: var(--card-bg);
            border-radius: 8px;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: var(--accent);
            font-weight: 600;
            font-family: 'Crimson Pro', serif;
        }
        
        .motive-text, .alibi-text {
            line-height: 1.7;
            position: relative;
            padding-left: 20px;
        }
        
        .alibi-text::before {
            content: "‚Äú";
            font-size: 3rem;
            position: absolute;
            left: -5px;
            top: -15px;
            color: rgba(233, 69, 96, 0.3);
        }
        
        .evidence-list {
            list-style: none;
            margin-top: 15px;
        }
        
        .evidence-item {
            padding: 12px 15px;
            margin-bottom: 10px;
            background-color: rgba(33, 150, 243, 0.1);
            border-radius: 6px;
            border-left: 3px solid var(--evidence);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .evidence-item::before {
            content: "üîç";
            font-size: 1.2rem;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            justify-content: center;
        }
        
        button {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
        }
        
        button:hover {
            background-color: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button.accuse {
            background-color: var(--danger);
        }
        
        button.accuse:hover {
            background-color: #e53935;
        }
        
        .result {
            display: none;
            background-color: var(--darker-bg);
            padding: 30px;
            border-radius: 10px;
            margin-top: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }
        
        .result h2 {
            color: var(--accent);
            margin-bottom: 20px;
            font-family: 'Crimson Pro', serif;
        }
        
        .verdict {
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .correct {
            background-color: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--success);
        }
        
        .incorrect {
            background-color: rgba(244, 67, 54, 0.1);
            border-left: 4px solid var(--danger);
        }
        
        .killer-reveal {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid var(--warning);
        }
        
        .analysis {
            margin-top: 20px;
            padding: 20px;
            background-color: rgba(233, 69, 96, 0.1);
            border-radius: 8px;
        }
        
        .analysis h3 {
            color: var(--accent);
            margin-bottom: 15px;
            font-family: 'Crimson Pro', serif;
        }
        
        .clue-highlight {
            background-color: rgba(255, 152, 0, 0.2);
            padding: 3px 6px;
            border-radius: 3px;
            font-weight: 500;
        }
        
        .crime-timeline {
            margin-top: 20px;
            padding: 15px;
            background-color: var(--card-bg);
            border-radius: 8px;
            border-left: 4px solid var(--warning);
        }
        
        .timeline-title {
            color: var(--accent);
            margin-bottom: 10px;
            font-family: 'Crimson Pro', serif;
        }
        
        .timeline-event {
            margin-bottom: 8px;
            padding-left: 15px;
            position: relative;
        }
        
        .timeline-event::before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: var(--accent);
            font-size: 1.2rem;
        }
        
        .crime-scene-evidence {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(33, 150, 243, 0.1);
            border-radius: 8px;
            border-left: 4px solid var(--evidence);
        }
        
        .crime-scene-title {
            color: var(--evidence);
            margin-bottom: 10px;
            font-family: 'Crimson Pro', serif;
        }
        
        .critical-evidence {
            background-color: rgba(255, 152, 0, 0.2);
            border-left: 3px solid var(--warning);
            padding: 12px 15px;
            margin: 10px 0;
            border-radius: 6px;
        }
        
        .contradiction {
            background-color: rgba(244, 67, 54, 0.1);
            border-left: 3px solid var(--danger);
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
        }
        
        .contradiction-title {
            color: var(--danger);
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                flex: none;
                width: 100%;
            }
            
            .suspect-header {
                flex-direction: column;
                text-align: center;
            }
            
            .detective-badge, .attempt-counter {
                position: relative;
                top: 0;
                left: 0;
                justify-content: center;
                margin-bottom: 15px;
            }
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .suspect-portrait {
                width: 120px;
                height: 120px;
            }
            
            .action-buttons {
                flex-direction: column;
                width: 100%;
            }
            
            button {
                width: 100%;
                justify-content: center;
            }
            
            .case-details {
                grid-template-columns: 1fr;
            }
            
            .birthday-title {
                font-size: 2.8rem;
            }
            
            .birthday-subtitle {
                font-size: 1.4rem;
            }
            
            .birthday-gallery {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 10px;
            }
        }

        @media (max-width: 480px) {
            .birthday-gallery {
                grid-template-columns: 1fr;
            }
            
            .birthday-title {
                font-size: 2.2rem;
            }
            
            .birthday-subtitle {
                font-size: 1.2rem;
            }
            
            .birthday-cta {
                padding: 15px 30px;
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Birthday Animation Background - Only shows on landing page -->
    <div class="birthday-animation" id="birthday-animation"></div>

    <div class="game-container">
        <!-- Birthday Hero Section -->
        <div class="birthday-hero" id="birthday-hero">
            <div class="birthday-content">
                <h1 class="birthday-title" style="color: white !important;">Happy Birthday Abby!</h1>
                <p class="birthday-subtitle">Best wishes on your birthday, Abby! I made a website murder mystery case for you to solve! I designed the game logic to be super easy, as it‚Äôs meant to be fun, not frustrating, and you can play whenever you like. I can certainly update it to be more challenging if you want, just let me know haha.</p>

                <button class="birthday-cta" id="start-game">
                    <span>üïµÔ∏è‚Äç‚ôÄÔ∏è</span> Solve The Mystery
                </button>
            </div>

            <!-- Improved Gallery -->
            <div class="birthday-gallery">
                <div class="gallery-item">
                    <img src="./images/pic1.jpg" alt="Birthday Memory 1" class="gallery-image" loading="lazy">
                    <div class="gallery-overlay"></div>
                </div>
                <div class="gallery-item">
                    <img src="./images/pic2.jpg" alt="Birthday Memory 2" class="gallery-image" loading="lazy">
                    <div class="gallery-overlay"></div>
                </div>
                <div class="gallery-item">
                    <img src="./images/pic3.jpg" alt="Birthday Memory 3" class="gallery-image" loading="lazy">
                    <div class="gallery-overlay"></div>
                </div>
                <div class="gallery-item">
                    <img src="./images/pic4.jpg" alt="Birthday Memory 4" class="gallery-image" loading="lazy">
                    <div class="gallery-overlay"></div>
                </div>
                <div class="gallery-item">
                    <img src="./images/pic5.jpg" alt="Birthday Memory 5" class="gallery-image" loading="lazy">
                    <div class="gallery-overlay"></div>
                </div>
                <div class="gallery-item">
                    <img src="./images/pic6.jpg" alt="Birthday Memory 6" class="gallery-image" loading="lazy">
                    <div class="gallery-overlay"></div>
                </div>
                <div class="gallery-item">
                    <img src="./images/pic7.jpg" alt="Birthday Memory 7" class="gallery-image" loading="lazy">
                    <div class="gallery-overlay"></div>
                </div>
                <div class="gallery-item">
                    <img src="./images/pic8.jpg" alt="Birthday Memory 8" class="gallery-image" loading="lazy">
                    <div class="gallery-overlay"></div>
                </div>
            </div>
        </div>
        
        <!-- Game Content (initially hidden) -->
        <div class="game-content" id="game-content">
            <!-- Your existing game content remains exactly the same -->
            <header>
                <div class="detective-badge">
                    <img src="./images/abbyyy.jpg" alt="Detective Abby">
                    <div>
                        <strong>Abby</strong>
                        <div style="font-size: 0.8rem; color: var(--text-muted);">Homicide Division</div>
                    </div>
                </div>
                <div class="attempt-counter">
                    <span>Attempts: </span>
                    <strong id="attempt-count">0</strong>
                </div>
                <h1>The Poisoned Coffee</h1>
                <p class="tagline">Can you identify who killed Mr. Noel Rodriguez?</p>
            </header>
            
            <div class="intro" id="intro">
                <!-- Intro will be populated by JS -->
            </div>
            
            <div class="container">
                <div class="sidebar">
                    <h2>Suspects</h2>
                    <ul class="suspect-list" id="suspect-list">
                        <!-- Suspects will be populated by JS -->
                    </ul>
                </div>
                <div class="main-panel" id="main-panel">
                    <div class="suspect-details">
                        <div class="suspect-header">
                            <img src="./images/abbyyy.jpg" alt="Select a suspect" class="suspect-portrait">
                            <div class="suspect-bio">
                                <h2 class="suspect-name-large">Select a Suspect</h2>
                                <p class="suspect-description">Click on a suspect from the list to investigate their background, motive, alibi, and evidence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="result" id="result">
                <h2 id="accused-title">Investigation Result</h2>
                <div class="verdict" id="verdict">
                    <!-- Verdict will be populated by JS -->
                </div>
                <div class="action-buttons" style="margin-top: 25px;">
                    <button id="try-again" style="display: none;">
                        <span>üîÑ</span> Try Again
                    </button>
                    <button id="play-again" style="display: none;">
                        <span>üéâ</span> Play Again
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Create floating items animation - ONLY for landing page
        function createFloatingItem() {
            const animationContainer = document.getElementById('birthday-animation');
            // Only create items if we're on the landing page
            if (document.getElementById('birthday-hero').style.display !== 'none') {
                const items = ['‚ù§Ô∏è', 'üíñ', 'üéÅ', 'üéÄ', 'üéà', '‚ú®'];
                const types = ['heart', 'gift', 'balloon'];
                
                const item = document.createElement('div');
                const randomType = types[Math.floor(Math.random() * types.length)];
                const randomItem = items[Math.floor(Math.random() * items.length)];
                
                item.className = `floating-item ${randomType}`;
                item.textContent = randomItem;
                item.style.left = Math.random() * 100 + 'vw';
                item.style.animationDuration = (6 + Math.random() * 6) + 's';
                item.style.animationDelay = Math.random() * 2 + 's';
                
                animationContainer.appendChild(item);
                
                // Remove element after animation completes
                setTimeout(() => {
                    if (item.parentNode) {
                        item.parentNode.removeChild(item);
                    }
                }, 14000);
            }
        }

        // Start creating floating items - ONLY for landing page
        function startFloatingAnimation() {
            // Only start animation if we're on the landing page
            if (document.getElementById('birthday-hero').style.display !== 'none') {
                // Create initial items
                for (let i = 0; i < 15; i++) {
                    setTimeout(() => createFloatingItem(), i * 500);
                }
                
                // Continue creating items
                setInterval(createFloatingItem, 800);
            }
        }

        // Stop floating animation when entering game
        function stopFloatingAnimation() {
            const animationContainer = document.getElementById('birthday-animation');
            animationContainer.innerHTML = ''; // Clear all floating elements
        }

        // Birthday functionality
        document.getElementById('start-game').addEventListener('click', function() {
            document.getElementById('birthday-hero').style.display = 'none';
            document.getElementById('game-content').style.display = 'block';
            stopFloatingAnimation(); // Stop animations when game starts
            
            // Optional: Play birthday sound
            try {
                const birthdayAudio = new Audio('data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA');
                birthdayAudio.play();
            } catch(e) {
                console.log("Audio play failed, but that's okay");
            }
        });

        // Start animation when page loads - only if on landing page
        window.addEventListener('load', function() {
            startFloatingAnimation();
            // Your existing game initialization code
            initGame();
        });

        // Your existing game JavaScript code remains exactly the same below
        // Game state
        const gameState = {
            attempts: 0
        };

        // Crime scenario (your existing scenario object)
        const scenario = {
            // ... your existing scenario data remains exactly the same
            id: 1,
            title: "The Poisoned Coffee ‚Äî The Murder of Mr. Noel Rodriguez",
            victim: "Mr. Noel Rodriguez",
            victimAge: "Unknown",
            victimOccupation: "Company Owner",
            crimeScene: "his bedroom during his birthday party",
            causeOfDeath: "rat poison mixed in his coffee",
            timeOfDeath: "Between 9:00 PM and 9:30 PM",
            intro: "Mr. Noel Rodriguez hosted a birthday party at his home for his employees. The evening started joyfully but ended in tragedy when Mrs. Rodriguez found her husband dead in his bedroom. Based on the autopsy, Mr. Noel had been poisoned. The police kept this information confidential, concealing the cause of death until the actual suspect was caught. </br></br> Abby, the final piece is yours to find. Identify the killer. </br></br> Supporting Police Personnel: Officers Josh, Zette, Jay, and Joms",
            timeline: [
                "9:00 PM - Mr. Noel asks MJ to make him coffee",
                "9:05 PM - MJ prepares coffee, then leaves to wash hands",
                "9:07 PM - Louis seen near kitchen",
                "9:10 PM - MJ delivers coffee to Mr. Noel's room",
                "9:15 PM - Mikay rushes to leave party",
                "9:25 PM - Kassandra enters Mr. Noel's room (CCTV)",
                "9:30 PM - Estimated time of death",
                "11:00 PM - Body discovered by Mrs. Rodriguez"
            ],
            crimeSceneEvidence: [
                "Coffee cup with rat poison residue",
                "Fingerprints from multiple suspects on the cup",
                "CCTV footage of Kassandra entering room at 9:20 PM",
                "No signs of struggle in the bedroom"
            ],
            suspects: [
                {
                    name: "Mikay",
                    image: "./images/mikay.jpg",
                    relationship: "Employee",
                    description: "Recently reprimanded for constant lateness, almost fired.",
                    motive: "Resentment after being yelled at and nearly fired for tardiness.",
                    alibi: "I was in the backyard with other guests when Mr. Noel was found dead. Other guests can prove it.",
                    evidence: [
                        "Her fingerprints found on the coffee cup",
                        "Recently yelled at and almost fired for being always late in work",
                        "Investigators found a supermarket receipt showing Mikay had bought rat poison two days before the party",
                        "Witnesses said she appeared anxious and distracted",
                        "Was seen rushing to leave the party around 9:20 PM saying she will meet her boyfriend"
                    ],
                    criticalEvidence: [
                        "Fingerprints on the murder weapon (coffee cup)",
                        "Strong motive (resentment after reprimand)",
                        "Receipt for rat poison purchased before party"
                    ]
                },
                {
                    name: "Kassandra",
                    image: "./images/kassandra.jpeg",
                    relationship: "Secretary",
                    description: "Mr. Noel's personal secretary who usually prepares his coffee.",
                    motive: "Had a ‚Ç±830,000 debt to Mr. Noel with an ultimatum to pay or face legal action.",
                    alibi: "I was on the terrace with Mrs. Rodriguez. Around 11:00 PM, she said she would check on Mr. Noel. Then I heard her scream and rushed to see what happened.",
                    evidence: [
                        "Had ‚Ç±830,000 debt with ultimatum to pay or face legal action. from Mr. Noel",
                        "CCTV footage shows her entering Mr. Noel's room at 9:25 PM with something unclear in her hand and leaving quickly.",
                        "Deleted messages on her phone about 'solving her problem before its too late'",
                        "Was calm and cooperative during investigation"
                    ],
                    criticalEvidence: [
                        "Strong financial motive with legal threat",
                        "CCTV evidence places her at the scene",
                        "Knowledge of Mr. Noel's schedule and habits"
                    ]
                },
                {
                    name: "Louis",
                    image: "./images/louis.jpg",
                    relationship: "Employee",
                    description: "Frequently humiliated by Mr. Noel in front of coworkers.",
                    motive: "Resentment from constant public humiliation by Mr. Noel.",
                    alibi: "I was in the comfort room for almost an hour because I ate too much during the party and got a bad stomachache. MJ saw me going in. Whoever poisoned him shall go to jail!",
                    evidence: [
                        "Coworkers revealed that Louis resented Mr. Noel for frequently embarrassing him in front of others",
                        "Forensic analysis showed traces of the poison on his shirt sleeve, suggesting possible contact with the substance",
                        "Aggression while interviewed, often deflecting questions",
                        "Record of visiting a psychologist for anger management issues lastweek"
                    ],
                    criticalEvidence: [
                        "visiting a psychologist for anger management issues last week",
                        "Traces of poison on his shirt sleeve",
                        "Strong motive (humiliation)"
                    ]
                },
                {
                    name: "MJ",
                    image: "./images/492074316_3558328864301152_6631248952161447965_n.jpg",
                    relationship: "Employee",
                    description: "Had a heated argument with Mr. Noel and planned to resign.",
                    motive: "Mr. Noel blackmailed her with a personal secret if she left the company.",
                    alibi: "Before Mr. Noel went to his bedroom, he asked me to make him a cup of coffee. After preparing it, I went to the comfort room to wash my hands and passed by Louis on my way.",
                    evidence: [
                        "Recent heated argument with Mr. Noel and planning to resign",
                        "Mr. Noel blackmailed MJ that he knows a dark secret of MJ's that he will reveal if she leave the company",
                        "Prepared and delivered the coffee to Mr. Noel",
                        "The coffee cup and tray both had MJ's fingerprints, but no traces of poison were found on her hands",
                    ],
                    criticalEvidence: [
                        "Direct access to the coffee (prepared and delivered it)",
                        "Strong blackmail motive",
                        "Fingerprints on the coffee cup and tray but no poison traces on her hands"
                    ],
                }
            ],
            killerName: "Louis",
            killerReveal: "When confronted with the evidence, Louis finally confessed. He admitted that while MJ was preparing the coffee, she briefly left the kitchen to use the restroom. In that short moment, Louis saw the opportunity to take revenge. He quietly opened the small packet of poison from his bag that he stole from Mikay earlier and poured it into the cup, then left before anyone saw him. 'I didn't mean for it to happen that way,' Louis muttered during his confession. 'I just hated him so much. He never respected me ‚Äî not once.' He had been planning it for weeks, ever since Mr. Noel humiliated him during a company meeting. The poison he bought online was meant to 'teach him a lesson,' but his anger turned it into murder."
        };

        // Game variables
        let currentSuspect = null;

        // DOM elements
        const introElement = document.getElementById('intro');
        const suspectListElement = document.getElementById('suspect-list');
        const mainPanelElement = document.getElementById('main-panel');
        const resultElement = document.getElementById('result');
        const accusedTitleElement = document.getElementById('accused-title');
        const verdictElement = document.getElementById('verdict');
        const tryAgainButton = document.getElementById('try-again');
        const playAgainButton = document.getElementById('play-again');
        const attemptCountElement = document.getElementById('attempt-count');

        // Initialize game
        function initGame() {
            gameState.attempts = 0;
            updateAttemptCounter();
            
            introElement.innerHTML = `
                <h2>Case File: ${scenario.title}</h2>
                <p>${scenario.intro}</p>
                <div class="case-details">
                    <div class="case-detail-item">
                        <div class="case-detail-label">Victim</div>
                        <div class="case-detail-value">${scenario.victim}</div>
                    </div>
                    <div class="case-detail-item">
                        <div class="case-detail-label">Cause of Death</div>
                        <div class="case-detail-value">${scenario.causeOfDeath}</div>
                    </div>
                    <div class="case-detail-item">
                        <div class="case-detail-label">Time of Death</div>
                        <div class="case-detail-value">${scenario.timeOfDeath}</div>
                    </div>
                    <div class="case-detail-item">
                        <div class="case-detail-label">Crime Scene</div>
                        <div class="case-detail-value">${scenario.crimeScene}</div>
                    </div>
                </div>
                <div class="crime-timeline">
                    <h3 class="timeline-title">Crime Timeline</h3>
                    ${scenario.timeline.map(event => `<div class="timeline-event">${event}</div>`).join('')}
                </div>
                <div class="crime-scene-evidence">
                    <h3 class="crime-scene-title">Crime Scene Evidence</h3>
                    <ul class="evidence-list">
                        ${scenario.crimeSceneEvidence.map(evidence => `<li class="evidence-item">${evidence}</li>`).join('')}
                    </ul>
                </div>
            `;

            suspectListElement.innerHTML = '';
            scenario.suspects.forEach((suspect, index) => {
                const li = document.createElement('li');
                li.className = 'suspect-item';
                li.innerHTML = `
                    <img src="${suspect.image}" alt="${suspect.name}">
                    <div class="suspect-info">
                        <div class="suspect-name">${suspect.name}</div>
                        <div class="suspect-relationship">${suspect.relationship}</div>
                    </div>
                `;
                li.addEventListener('click', () => showSuspectDetails(suspect, index));
                suspectListElement.appendChild(li);
            });

            mainPanelElement.innerHTML = `
                <div class="suspect-details">
                    <div class="suspect-header">
                        <img src="./images/abbyyy.jpg" alt="Select a suspect" class="suspect-portrait">
                        <div class="suspect-bio">
                            <h2 class="suspect-name-large">Select a Suspect</h2>
                            <p class="suspect-description">Click on a suspect to investigate their background, motive, alibi, and evidence. Look for contradictions between their story and the evidence.</p>
                        </div>
                    </div>
                </div>
            `;

            resultElement.style.display = 'none';
            tryAgainButton.style.display = 'none';
            playAgainButton.style.display = 'none';
        }

        // Update attempt counter
        function updateAttemptCounter() {
            attemptCountElement.textContent = gameState.attempts;
        }

        // Show suspect details
        function showSuspectDetails(suspect, index) {
            document.querySelectorAll('.suspect-item').forEach(item => {
                item.classList.remove('active');
            });
            
            const clickedItem = Array.from(document.querySelectorAll('.suspect-item'))[index];
            if (clickedItem) {
                clickedItem.classList.add('active');
            }

            currentSuspect = suspect;
            
            mainPanelElement.innerHTML = `
                <div class="suspect-details fade-in">
                    <div class="suspect-header">
                        <img src="${suspect.image}" alt="${suspect.name}" class="suspect-portrait">
                        <div class="suspect-bio">
                            <h2 class="suspect-name-large">${suspect.name}</h2>
                            <p class="suspect-description">${suspect.relationship} of the victim. ${suspect.description}</p>
                        </div>
                    </div>
                    
                    <div class="motive-section">
                        <div class="section-title">
                            <span>üí∞</span> Potential Motive
                        </div>
                        <p class="motive-text">${suspect.motive}</p>
                    </div>
                    
                    <div class="alibi-section">
                        <div class="section-title">
                            <span>üìù</span> Alibi Statement
                        </div>
                        <p class="alibi-text">${suspect.alibi}</p>
                    </div>
                    
                    <div class="evidence-section">
                        <div class="section-title">
                            <span>üîé</span> Collected Evidence and Information
                        </div>
                        <ul class="evidence-list">
                            ${suspect.evidence.map(evidence => `<li class="evidence-item">${evidence}</li>`).join('')}
                        </ul>
                    </div>
                    
                    ${suspect.criticalEvidence ? `
                    <div class="critical-evidence">
                        <strong>Key Evidence:</strong>
                        <ul>
                            ${suspect.criticalEvidence.map(evidence => `<li>${evidence}</li>`).join('')}
                        </ul>
                    </div>
                    ` : ''}
                    
                    ${suspect.contradictions ? `
                    <div class="contradiction">
                        <div class="contradiction-title">Contradictions:</div>
                        <ul>
                            ${suspect.contradictions.map(contradiction => `<li>${contradiction}</li>`).join('')}
                        </ul>
                    </div>
                    ` : ''}
                    
                    <div class="action-buttons">
                        <button class="accuse" onclick="accuse('${suspect.name}')">
                            <span>‚öñÔ∏è</span> Accuse ${suspect.name}
                        </button>
                    </div>
                </div>
            `;
        }

        // Accuse suspect
        function accuse(name) {
            gameState.attempts++;
            updateAttemptCounter();
            
            const isCorrect = name === scenario.killerName;
            
            accusedTitleElement.textContent = `Investigation Result: ${isCorrect ? 'Correct!' : 'Wrong!'}`;
            
            if (isCorrect) {
                verdictElement.className = 'verdict correct';
                verdictElement.innerHTML = `
                    <h3 style="color: var(--success); margin-bottom: 10px;">‚úÖ Aurighttt, Abby!</h3>
                    <p>You successfully identified ${scenario.killerName} as the killer by analyzing the evidence and identifying the contradictions in their story!</p>
                    <div class="critical-evidence" style="margin-top: 15px;">
                        <strong>The Critical Clue:</strong>
                        <p>After reviewing all testimonies and evidence, Abby noticed something crucial:
                            None of the suspects were told the real cause of death ‚Äî only that Mr. Noel had "found dead in his bed."
                            </br></br>
                            But when Louis was questioned, he said something odd:

                            "Whoever poisoned him shall go to jail! ‚Äî I still can't believe this happened"

                            </br></br>

                            Abby froze.
                            No one had mentioned poison ‚Äî not even once during the investigation.

                            This slip was enough to make Louis the prime suspect.
                        </p>
                    </div>
                    <div class="killer-reveal" style="margin-top: 20px;">
                        <h3>The Real Killer</h3>
                        <p>${scenario.killerReveal}</p>
                    </div>
                `;
                tryAgainButton.style.display = 'none';
                playAgainButton.style.display = 'inline-flex';
            } else {
                verdictElement.className = 'verdict incorrect';
                verdictElement.innerHTML = `
                    <h3 style="color: var(--danger); margin-bottom: 10px;">‚ùå Incorrect Accusation</h3>
                    <p>${name} had some evidence against them, but they are not the killer. Keep investigating to find the real culprit!</p>
                    <p style="margin-top: 15px;">Look for contradictions in the alibis and pay attention to who might have slipped up during questioning.</p>
                `;
                tryAgainButton.style.display = 'inline-flex';
                playAgainButton.style.display = 'none';
            }
            
            resultElement.style.display = 'block';
            resultElement.scrollIntoView({ behavior: 'smooth' });
        }

        // Event listeners
        tryAgainButton.addEventListener('click', () => {
            resultElement.style.display = 'none';
        });

        playAgainButton.addEventListener('click', () => {
            // When playing again, show landing page with animations
            document.getElementById('birthday-hero').style.display = 'block';
            document.getElementById('game-content').style.display = 'none';
            startFloatingAnimation(); // Restart animations
            initGame();
        });

        // Make accuse function global
        window.accuse = accuse;
    </script>
</body>

</html>



